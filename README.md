# Chinese Daily Planner

This is a simple web application built with Python and the FastHTML framework to act as a daily planner and notes app, initially focused on language learning tasks.

## Features

*   Monthly calendar view with navigation.
*   Clickable dates to view/edit daily notes and tasks.
*   Markdown support for notes using EasyMDE (with live preview and fullscreen mode).
*   Interactive checkboxes for tasks integrated within daily notes.
*   Storage of notes and task states in Markdown files.
*   Themeable interface (details in `static/css/theme.css`).

## Prerequisites

*   Python 3.8+
*   `pip` (Python package installer)
*   For Windows users: PowerShell (for the `run_dev.ps1` script)

## Setup and Running

There are two main ways to set up and run the application:

**1. Using the Development Script (Recommended for Windows):**

   a. Clone the repository:
      ```bash
      git clone <your-repository-url>
      cd chinese-daily
      ```
   b. Run the development script from the project root:
      ```powershell
      .\run_dev.ps1
      ```
      This script will automatically:
      *   Create a Python virtual environment (`.venv`) if it doesn't exist.
      *   Activate the virtual environment.
      *   Install/update dependencies from `requirements.txt`.
      *   Start the development server.

      *Note:* If you encounter PowerShell execution policy issues, you might need to run this command once in PowerShell (with administrator rights if necessary):
      `Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope Process`

**2. Manual Setup (All Platforms):**

   a. **Clone the repository:**
      ```bash
      git clone <your-repository-url>
      cd chinese-daily
      ```

   b. **Create and activate a virtual environment:**
      *   Windows (Command Prompt/PowerShell):
          ```powershell
          python -m venv .venv
          .venv\Scripts\activate
          ```
      *   macOS/Linux (Bash/Zsh):
          ```bash
          python3 -m venv .venv
          source .venv/bin/activate
          ```

   c. **Install dependencies:**
      ```bash
      pip install -r requirements.txt
      ```

   d. **Run the Application:**
      Ensure your virtual environment is activated. Then, run the Uvicorn server from the project root directory:
      ```bash
      python -m uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload 
      ```
**Accessing the Application:**

Once the server is running, open your web browser and navigate to `http://127.0.0.1:8000` or `http://localhost:8000`.

## Project Structure

*   `app/`: Core application logic.
    *   `main.py`: Main application entry point, FastHTML app initialization, static file mounting, route module imports, and EasyMDE JavaScript.
    *   `config.py`: Configuration constants (paths, UI settings, etc.).
    *   `services/`: Business logic (file storage, markdown processing, calendar generation).
        *   `storage.py`: Handles reading/writing notes and task files.
        *   `markdown.py`: Configures the Mistune markdown parser.
    *   `ui/`: Reusable UI component generation functions (e.g., sidebar, navigation buttons).
    *   `web/`: Web route handlers (controllers) for different application sections (calendar, tasks, notes).
*   `static/`: Static assets.
    *   `css/`: Stylesheets, including `main.css` (imports other CSS files), `theme.css`, `notes.css`, etc.
*   `data/`: Stores daily notes and task states as Markdown files (e.g., `YYYY-MM-DD_notes.md`). This directory is in `.gitignore` but its contents are generated by the app.
*   `tasks/`: Default task templates (e.g., `tasks/monday.md`). (This directory seems to be missing from the provided layout, but was in the original README. If it exists, keep this line.)
*   `run_dev.ps1`: PowerShell script to automate setup and launch on Windows.
*   `requirements.txt`: Python package dependencies.
*   `README.md`: This file.

## Key Technologies

*   **FastHTML:** Python web framework.
*   **Uvicorn:** ASGI server.
*   **EasyMDE:** JavaScript Markdown editor.
*   **HTMX:** For dynamic page updates without full reloads.
*   **Beautiful Soup:** For HTML parsing (primarily for task checkbox manipulation).
*   **Mistune:** Markdown parser.

